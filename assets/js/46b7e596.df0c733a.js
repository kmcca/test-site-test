"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[79640],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>h});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),p=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},l=function(e){var n=p(e.components);return a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(t),h=r,f=d["".concat(c,".").concat(h)]||d[h]||u[h]||i;return t?a.createElement(f,o(o({ref:n},l),{},{components:t})):a.createElement(f,o({ref:n},l))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=d;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},32724:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=t(87462),r=(t(67294),t(3905));const i={title:"About API Scanning and API Specifications",slug:"/r/About_API_Scanning_and_API_Specifications"},o=void 0,s={unversionedId:"guides/dynamic_analysis/da_scan_apis/apisec_about_specs",id:"guides/dynamic_analysis/da_scan_apis/apisec_about_specs",title:"About API Scanning and API Specifications",description:"Veracode API Scanning supports API specification files in OpenAPI 2.0 (Swagger), OpenAPI 3.0, and HTTP Archive (HAR) format. An OpenAPI specification must be valid YAML or JSON.",source:"@site/docs/guides/10_dynamic_analysis/02_da_scan_apis/02_apisec_about_specs.md",sourceDirName:"guides/10_dynamic_analysis/02_da_scan_apis",slug:"/r/About_API_Scanning_and_API_Specifications",permalink:"/km-docusaurus-test/r/About_API_Scanning_and_API_Specifications",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"About API Scanning and API Specifications",slug:"/r/About_API_Scanning_and_API_Specifications"},sidebar:"tutorialSidebar",previous:{title:"Scan APIs",permalink:"/km-docusaurus-test/r/About_Veracode_API_Scanning"},next:{title:"Create an API Specification Scan",permalink:"/km-docusaurus-test/r/Create_an_API_Specification_Scan"}},c={},p=[{value:"OpenAPI 2.0 Conversion to HAR",id:"openapi-20-conversion-to-har",level:2},{value:"OpenAPI 3.0 Conversion to HAR",id:"openapi-30-conversion-to-har",level:2},{value:"HAR Conversion and Processing",id:"har-conversion-and-processing",level:2},{value:"About HTTP Support",id:"about-http-support",level:2}],l={toc:p};function u(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Veracode API Scanning supports API specification files in OpenAPI 2.0 (Swagger), OpenAPI 3.0, and HTTP Archive (HAR) format. An OpenAPI specification must be valid YAML or JSON."),(0,r.kt)("p",null,"When you upload an API specification as an OpenAPI or HAR file, the scan engine processes the file to prepare it for analysis. The process involves converting OpenAPI files to HAR files and parsing the HAR files to extract the list of endpoints, the target API servers, and to generate the API call requests. If you upload a HAR file, it skips the conversion step. When ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/Configure_and_Run_an_API_Specification_Scan"},"configuring a scan"),", you can select which endpoints from this list to include or exclude during scanning."),(0,r.kt)("p",null,"The scan engine periodically reprocesses the API specifications to ensure that they are up-to-date. Veracode recommends that you periodically review recurring scans to ensure that all endpoints are accurate. If the server-side logic for detecting eligible endpoints changes, you might need to update your scan configurations to include or exclude these rules."),(0,r.kt)("p",null,"After scheduling the analysis, you can download the HAR file of each scanned API specification from the Dynamic Analysis Scan Configuration page in the Veracode Platform. You can also re-upload a downloaded HAR file for scanning."),(0,r.kt)("p",null,"If you are new to API specifications, Veracode recommends that you learn more about the supported formats and file types, the differences between them, and the techniques and best practices for working with HAR files."),(0,r.kt)("h2",{id:"openapi-20-conversion-to-har"},"OpenAPI 2.0 Conversion to HAR"),(0,r.kt)("p",null,"When converting OpenAPI 2.0 specification files to HAR format, the scan engine first converts them to OpenAPI 3.0 using the official ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/swagger-api/swagger-parser"},"OpenAPI Swagger Parser"),". Because OpenAPI 3.0 supports multiple servers, if an OpenAPI 2.0 file specifies the API server array with the ",(0,r.kt)("inlineCode",{parentName:"p"},"host/basepath")," property, during conversion, the scan engine treats this value as a single entry in the server array."),(0,r.kt)("h2",{id:"openapi-30-conversion-to-har"},"OpenAPI 3.0 Conversion to HAR"),(0,r.kt)("p",null,"When converting OpenAPI 3.0 specification files to HAR format, the scan engine enumerates the API endpoints and generates values for all associated properties. When generating property values, the scan engine retains any relevant schema data present in the specification to ensure that the values are valid. Veracode highly recommends that all properties in a specification include a detailed schema."),(0,r.kt)("p",null,"The scan engine uses the endpoints and properties to form HTTP requests, which it also stores in the HAR format. For certain values, particularly URL properties, the HAR files contain URLs that include the property names, typically enclosed in curly brackets ({,}). Corresponding values are encoded within the open-ended ",(0,r.kt)("inlineCode",{parentName:"p"},"comment")," property present on the request within the HAR file. Other structures within the HAR format might use the ",(0,r.kt)("inlineCode",{parentName:"p"},"comment")," property to encode schema information and other metadata that the scan engine can use during scanning. Because of these dependencies, prior to re-uploading a downloaded HAR file, Veracode highly recommends that you do not modify the ",(0,r.kt)("inlineCode",{parentName:"p"},"comment")," property or any of the structures within the HAR file."),(0,r.kt)("h2",{id:"har-conversion-and-processing"},"HAR Conversion and Processing"),(0,r.kt)("p",null,"Before scanning HAR files, the scan engine converts the HAR format to internal data structures. During the conversion, the scan engine resolves any URL properties to generate the final, fully-qualified URLs for each request, and then applies all property values."),(0,r.kt)("p",null,"If an API specification contains combinations of path tokens and hosts for the target API servers, these values can result in double-slashes (//) rather than single slashes during an API request. During conversion, the scan engine changes multiple repeating slashes into single slashes when generating the request URLs. To avoid potential errors during scanning, before uploading your specification, ensure all paths use the correct path format."),(0,r.kt)("h2",{id:"about-http-support"},"About HTTP Support"),(0,r.kt)("p",null,"API Scanning supports HTTP/1.1 and HTTP/1.0 traffic. If your API requires HTTP/2.0, you cannot use API Scanning. When creating the HAR file of a specification, the scan engine downcasts HTTP/2.0 API specifications to HTTP/1.1. If a HAR file defines HTTPS, the scan engine interprets the value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"httpVersion")," property to be HTTP/1.1."))}u.isMDXComponent=!0}}]);