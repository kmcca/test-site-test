"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[40578],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>f});var a=o(67294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,i=function(e,t){if(null==e)return{};var o,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=a.createContext({}),u=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):n(n({},t),e)),o},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var o=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(o),f=i,m=d["".concat(l,".").concat(f)]||d[f]||p[f]||r;return o?a.createElement(m,n(n({ref:t},c),{},{components:o})):a.createElement(m,n({ref:t},c))}));function f(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=o.length,n=new Array(r);n[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,n[1]=s;for(var u=2;u<r;u++)n[u]=o[u];return a.createElement.apply(null,n)}return a.createElement.apply(null,o)}d.displayName="MDXCreateElement"},56463:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>n,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var a=o(87462),i=(o(67294),o(3905));const r={title:"Troubleshooting Veracode Static for Visual Studio",slug:"/r/Troubleshooting_Veracode_Static_for_Visual_Studio"},n=void 0,s={unversionedId:"guides/ides/static_ide/static_for_visual_studio_new/tshooting_static_vs_2019_2022_new",id:"guides/ides/static_ide/static_for_visual_studio_new/tshooting_static_vs_2019_2022_new",title:"Troubleshooting Veracode Static for Visual Studio",description:"This topic is for the new Veracode Static for Visual Studio released April 2022. For the legacy versions of Veracode Static for Visual Studio, see Veracode Static for Visual Studio (Legacy).",source:"@site/docs/guides/05_ides/01_static_ide/05_static_for_visual_studio_new/08_tshooting_static_vs_2019_2022_new.md",sourceDirName:"guides/05_ides/01_static_ide/05_static_for_visual_studio_new",slug:"/r/Troubleshooting_Veracode_Static_for_Visual_Studio",permalink:"/km-docusaurus-test/r/Troubleshooting_Veracode_Static_for_Visual_Studio",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Troubleshooting Veracode Static for Visual Studio",slug:"/r/Troubleshooting_Veracode_Static_for_Visual_Studio"},sidebar:"tutorialSidebar",previous:{title:"Settings and Scripts for Building and Packaging",permalink:"/km-docusaurus-test/r/Settings_and_Scripts_for_Building_and_Packaging_for_Visual_Studio"},next:{title:"Open Source Scripts for Veracode Static for Visual Studio",permalink:"/km-docusaurus-test/r/Open_Source_Scripts_for_Veracode_Static_for_Visual_Studio"}},l={},u=[{value:"Publish + Package Fails on ASP.NET Framework Web Apps",id:"publish--package-fails-on-aspnet-framework-web-apps",level:2},{value:"Publish + Package Still Fails on ASP.NET Framework Web Apps",id:"publish--package-still-fails-on-aspnet-framework-web-apps",level:2},{value:"Inconsistent Module Selection on ASP.NET 5 or Greater Web Apps",id:"inconsistent-module-selection-on-aspnet-5-or-greater-web-apps",level:2},{value:"Steps to Resolve",id:"steps-to-resolve",level:3}],c={toc:u};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This topic is for the new Veracode Static for Visual Studio released April 2022. For the legacy versions of Veracode Static for Visual Studio, see ",(0,i.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/c_title_VS"},"Veracode Static for Visual Studio (Legacy)"),".")),(0,i.kt)("h2",{id:"publish--package-fails-on-aspnet-framework-web-apps"},"Publish + Package Fails on ASP.NET Framework Web Apps"),(0,i.kt)("p",null,"This condition can occur if you are preparing an ASP.NET Framework Web application for uploading to Veracode. The Publish + Package step can fail with the following message:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'C:\\projects\\csharp\\WebGoat\\WebGoat-01\\Veracode.Package.build(33,3): error MSB3941: Failed to zip directory "C:\\projects\\csharp\\WebGoat\\WebGoat-01\\.veracode\\veracode-tmp\\binary\\" because it does not exist or is inaccessible.\n\n========== Package for Static Scanning failed ==========\n')),(0,i.kt)("p",null,"This issue might be due to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Both Visual Studio 2019 and Visual Studio 2022 are installed on the same machine."),(0,i.kt)("li",{parentName:"ul"},"The default MSBuild version is not the same version that Visual Studio uses to run Publish + Package. For example, if you run Publish + Package from Visual Studio 2022 and your version of MSBuild is set to a 2019 version.")),(0,i.kt)("p",null,"You can change the default version in your ",(0,i.kt)("inlineCode",{parentName:"p"},"C:\\Users\\{UserName}\\.veracode\\veracode-build-microsoft-user.json")," file."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "projectVersion": "1.0.0",\n  "msBuildPath": "C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Professional\\MSBuild\\Current\\Bin",\n')),(0,i.kt)("p",null,"To resolve this issue, you can either change the default version of MSBuild to a 2022 version, such as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "projectVersion": "1.0.0",\n  "msBuildPath": "C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional\\MSBuild\\Current\\Bin",\n')),(0,i.kt)("p",null,"Or, you can change it for specific solutions, such as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'  "solutions": [\n    {\n      "solutionName": "WebGoat-01",\n      "msBuildPath": "C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional\\MSBuild\\Current\\Bin"\n    },\n')),(0,i.kt)("h2",{id:"publish--package-still-fails-on-aspnet-framework-web-apps"},"Publish + Package Still Fails on ASP.NET Framework Web Apps"),(0,i.kt)("p",null,"If the above does not resolve the issue, and you participated in the Early Access (EA) program for this extension, remove the ",(0,i.kt)("inlineCode",{parentName:"p"},"VeracodePublishProfile.pubxml")," file from each ASP.NET Web project. These files are located in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Properties/PublishProfiles")," directory. The extension re-creates these file(s) during the next time you run Publish/Package."),(0,i.kt)("h2",{id:"inconsistent-module-selection-on-aspnet-5-or-greater-web-apps"},"Inconsistent Module Selection on ASP.NET 5 or Greater Web Apps"),(0,i.kt)("p",null,"This condition can be triggered if you have an ASP.NET Core Web application with .NET 5 or later, and are using the ",(0,i.kt)("inlineCode",{parentName:"p"},"Microsoft.VisualStudio.Web.CodeGeneration.Design")," library. This library generates a ",(0,i.kt)("inlineCode",{parentName:"p"},"dotnet-aspnet-codegenerator-design.exe")," file that causes the module selection issue."),(0,i.kt)("h3",{id:"steps-to-resolve"},"Steps to Resolve"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Ensure that the ",(0,i.kt)("inlineCode",{parentName:"p"},"canRemoveExecutables")," property in ",(0,i.kt)("inlineCode",{parentName:"p"},"veracode-build-microsoft.json")," is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),": ",(0,i.kt)("inlineCode",{parentName:"p"},'"canRemoveExecutables": true'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Update the ",(0,i.kt)("inlineCode",{parentName:"p"},"Directory.Build.targets")," file to remove the ",(0,i.kt)("inlineCode",{parentName:"p"},"dotnet-aspnet-codegenerator-design.exe")," file from the final artifacts directory by adding the second ",(0,i.kt)("inlineCode",{parentName:"p"},"<BinFiles Remove=")," line as shown below."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<ItemGroup Condition=" \'$(VeracodeRemoveExecutables)\' == \'true\'">\n  <BinFiles Remove="$(OutputPath)/**/$(MSBuildProjectName).exe" />\n  <BinFiles Remove="$(OutputPath)/**/dotnet-aspnet-codegenerator-design.exe" />\n</ItemGroup>\n')),(0,i.kt)("p",null,"After making the changes above, the packaging step should remove the offending ",(0,i.kt)("inlineCode",{parentName:"p"},"dotnet-aspnet-codegenerator-design.exe")," any time you run a scan."))}p.isMDXComponent=!0}}]);