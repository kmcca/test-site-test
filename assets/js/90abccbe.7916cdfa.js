"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[53e3],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,b=m["".concat(l,".").concat(d)]||m[d]||c[d]||o;return n?r.createElement(b,i(i({ref:t},u),{},{components:n})):r.createElement(b,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},30572:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={title:"Configure Your Bamboo Repository",slug:"/r/Configure_Your_Bamboo_Repository"},i=void 0,s={unversionedId:"guides/sca/setting_up_agent_based_scans/continuous_integration/bamboo/configure_bamboo_repository",id:"guides/sca/setting_up_agent_based_scans/continuous_integration/bamboo/configure_bamboo_repository",title:"Configure Your Bamboo Repository",description:"Bamboo is an on-premise CI system, which means you must install cURL on your server prior to running a Veracode Software Composition Analysis (SCA) agent-based scan.",source:"@site/docs/guides/07_sca/03_setting_up_agent_based_scans/01_continuous_integration/02_bamboo/04_configure_bamboo_repository.md",sourceDirName:"guides/07_sca/03_setting_up_agent_based_scans/01_continuous_integration/02_bamboo",slug:"/r/Configure_Your_Bamboo_Repository",permalink:"/km-docusaurus-test/r/Configure_Your_Bamboo_Repository",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Configure Your Bamboo Repository",slug:"/r/Configure_Your_Bamboo_Repository"},sidebar:"tutorialSidebar",previous:{title:"Set a Plan Variable for Atlassian Bamboo",permalink:"/km-docusaurus-test/r/Set_a_Plan_Variable_for_Atlassian_Bamboo"},next:{title:"Integrating Agent-Based Scanning with Bitbucket",permalink:"/km-docusaurus-test/r/t_sc_bitbucket_token"}},l={},p=[],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Bamboo is an on-premise CI system, which means you must install cURL on your server prior to running a Veracode Software Composition Analysis (SCA) agent-based scan."),(0,a.kt)("p",null,"You can install cURL using SSH access to your server. After installing the CLI tool, you also need the path to the executable in order to allow Bamboo to run commands. To get the path, access the server via SSH and run the command ",(0,a.kt)("inlineCode",{parentName:"p"},"which curl"),". This command outputs the path to the curl binary for later use."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To complete this task:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Navigate to the plan where you want to add agent-based scanning.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"From the Actions menu, click ",(0,a.kt)("strong",{parentName:"p"},"Configure Plan"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the job where your code is built.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"In the Tasks section, select ",(0,a.kt)("strong",{parentName:"p"},"Add Task")," > ",(0,a.kt)("strong",{parentName:"p"},"Script"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Modify the fields as follows:"),(0,a.kt)("p",{parentName:"li"},"a.  For Task Description, enter ",(0,a.kt)("inlineCode",{parentName:"p"},"Veracode Agent-Based Scan"),"."),(0,a.kt)("p",{parentName:"li"},"b.  Verify that Interpreter is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"Shell"),"."),(0,a.kt)("p",{parentName:"li"},"c.  Verify that Script location is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"Inline"),"."),(0,a.kt)("p",{parentName:"li"},"d.  For Script body, enter ",(0,a.kt)("inlineCode",{parentName:"p"},"curl -sSL https://download.sourceclear.com/ci.sh | sh"),"."),(0,a.kt)("p",{parentName:"li"},"e.  Verify that Argument is blank."),(0,a.kt)("p",{parentName:"li"},"f.  For Environment variables:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"If you did not set the ",(0,a.kt)("inlineCode",{parentName:"li"},"SRCCLR_API_TOKEN_PASSWORD")," at the global or plan levels, enter ",(0,a.kt)("inlineCode",{parentName:"li"},"SRCCLR_API_TOKEN={token}"),"."),(0,a.kt)("li",{parentName:"ul"},"If you set the token at the global level, enter ",(0,a.kt)("inlineCode",{parentName:"li"},"export SRCCLR_API_TOKEN=${bamboo.SRCCLR_API_TOKEN_PASSWORD}"),".")),(0,a.kt)("p",{parentName:"li"},"g.  Verify Working subdirectory is blank, unless the configuration file, such as the ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"pom.xml"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle"),", or ",(0,a.kt)("inlineCode",{parentName:"p"},"requirements.txt"),", is in a subdirectory. If it is in a subdirectory, specify the path to the subdirectory.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click ",(0,a.kt)("strong",{parentName:"p"},"Save"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Drag the agent-based scan command to the bottom of the task list directly above the final tasks section."),(0,a.kt)("p",{parentName:"li"},"Final tasks run even if a previous task fails. If you put the scan command before the final task it ensures that unnecessary scan attempts do not occur if the build fails."))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Results:")),(0,a.kt)("p",null,"The next time this plan is built, Veracode SCA runs an agent-based scan."))}c.isMDXComponent=!0}}]);