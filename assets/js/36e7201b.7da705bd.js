"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[14282],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(a),m=r,k=u["".concat(p,".").concat(m)]||u[m]||d[m]||i;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},66768:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const i={title:"JavaScript and TypeScript Packaging",slug:"/r/compilation_jscript"},o=void 0,l={unversionedId:"guides/packaging/jscript",id:"guides/packaging/jscript",title:"JavaScript and TypeScript Packaging",description:"Your JavaScript and TypeScript applications must meet specific packaging and compilation requirements before you can submit them for scanning.",source:"@site/docs/guides/03_packaging/17_jscript.md",sourceDirName:"guides/03_packaging",slug:"/r/compilation_jscript",permalink:"/km-docusaurus-test/r/compilation_jscript",draft:!1,tags:[],version:"current",sidebarPosition:17,frontMatter:{title:"JavaScript and TypeScript Packaging",slug:"/r/compilation_jscript"},sidebar:"tutorialSidebar",previous:{title:"Java Packaging",permalink:"/km-docusaurus-test/r/compilation_java"},next:{title:"Kotlin Packaging",permalink:"/km-docusaurus-test/r/c_compilation_kotlin"}},p={},s=[{value:"Supported JavaScript Libraries and Technologies",id:"supported-javascript-libraries-and-technologies",level:2},{value:"Template Engines",id:"template-engines",level:2},{value:"Unsupported JavaScript Technologies",id:"unsupported-javascript-technologies",level:2},{value:"Packaging Guidance for JavaScript and TypeScript",id:"packaging-guidance-for-javascript-and-typescript",level:2},{value:"Software Composition Analysis Requirements",id:"software-composition-analysis-requirements",level:2},{value:"Packaging AWS Lambda Applications",id:"packaging-aws-lambda-applications",level:2},{value:"Identifying Lambda Function Handlers for JavaScript and TypeScript",id:"identifying-lambda-function-handlers-for-javascript-and-typescript",level:2}],c={toc:s};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Your JavaScript and TypeScript applications must meet specific packaging and compilation requirements before you can submit them for scanning."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/r_supported_table"},"Supported Languages and Platforms")," for instructions for other platforms."),(0,r.kt)("p",null,"You can analyze applications using Veracode Static Analysis or Veracode Software Composition Analysis ","(","SCA",")"," upload and scan, if licensed. For SCA agent-based scan requirements, see ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/Using_Veracode_SCA_with_Programming_Languages"},"Using Veracode SCA with Programming Languages"),"."),(0,r.kt)("h2",{id:"supported-javascript-libraries-and-technologies"},"Supported JavaScript Libraries and Technologies"),(0,r.kt)("p",null,"Veracode supports analyzing many client- and server-side JavaScript and TypeScript applications, including those that use HTML5 APIs, Typescript 4.5 and earlier, ECMAScript 2015, ECMAScript 2016, ECMAScript 2017, ECMAScript 2018, and JSX. Veracode also supports the following technologies:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Framework/Technology"),(0,r.kt)("th",{parentName:"tr",align:null},"Supported Versions"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Angular"),(0,r.kt)("td",{parentName:"tr",align:null},"0\u20131.x, 2.x, 4.x\u201315.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"AWS SDK for JavaScript"),(0,r.kt)("td",{parentName:"tr",align:null},"2.x.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Azure Functions"),(0,r.kt)("td",{parentName:"tr",align:null},"2.x-4.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Backbone.js"),(0,r.kt)("td",{parentName:"tr",align:null},"1.3.3 and earlier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Bootstrap"),(0,r.kt)("td",{parentName:"tr",align:null},"1\u20134")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cheerio.js"),(0,r.kt)("td",{parentName:"tr",align:null},"0.2\u20130.20")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Ember.js"),(0,r.kt)("td",{parentName:"tr",align:null},"1.x\u20133.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Express"),(0,r.kt)("td",{parentName:"tr",align:null},"0\u20134.17.1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"jQuery"),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Koa.js"),(0,r.kt)("td",{parentName:"tr",align:null},"0.x\u20132.13")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Node.js"),(0,r.kt)("td",{parentName:"tr",align:null},"19.x and earlier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"React.js"),(0,r.kt)("td",{parentName:"tr",align:null},"0.13\u201318.x.x, react-router versions 2\u20136")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SAPUI5/OpenUI5"),(0,r.kt)("td",{parentName:"tr",align:null},"1.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Underscore.js"),(0,r.kt)("td",{parentName:"tr",align:null},"1.8.3 and earlier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Vue.js"),(0,r.kt)("td",{parentName:"tr",align:null},"1\u20132.x, vue-router versions 1\u20133.x")))),(0,r.kt)("h2",{id:"template-engines"},"Template Engines"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Supported Versions"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Angular templates"),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Handlebars.js"),(0,r.kt)("td",{parentName:"tr",align:null},"1\u20134.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Hogan.js"),(0,r.kt)("td",{parentName:"tr",align:null},"0\u20133.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Mustache.js"),(0,r.kt)("td",{parentName:"tr",align:null},"0.6\u20132.2.x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Swig"),(0,r.kt)("td",{parentName:"tr",align:null},"1.x")))),(0,r.kt)("h2",{id:"unsupported-javascript-technologies"},"Unsupported JavaScript Technologies"),(0,r.kt)("p",null,"Veracode does not support the analysis of CoffeeScript or Dart applications."),(0,r.kt)("h2",{id:"packaging-guidance-for-javascript-and-typescript"},"Packaging Guidance for JavaScript and TypeScript"),(0,r.kt)("p",null,"Veracode extracts client-side JavaScript from JSP files that are uploaded as part of a JAR, WAR, or EAR file, and creates a separate JavaScript module that is selectable for analysis."),(0,r.kt)("p",null,"Upload a ZIP file containing JavaScript source code, or files that contain JavaScript. Veracode only extracts JavaScript from files with these extensions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ASP"),(0,r.kt)("li",{parentName:"ul"},"CSS"),(0,r.kt)("li",{parentName:"ul"},"EHTML"),(0,r.kt)("li",{parentName:"ul"},"ES"),(0,r.kt)("li",{parentName:"ul"},"ES6"),(0,r.kt)("li",{parentName:"ul"},"HANDLEBARS"),(0,r.kt)("li",{parentName:"ul"},"HBS"),(0,r.kt)("li",{parentName:"ul"},"HJS"),(0,r.kt)("li",{parentName:"ul"},"HTM"),(0,r.kt)("li",{parentName:"ul"},"HTML"),(0,r.kt)("li",{parentName:"ul"},"JS"),(0,r.kt)("li",{parentName:"ul"},"JSX"),(0,r.kt)("li",{parentName:"ul"},"JSON"),(0,r.kt)("li",{parentName:"ul"},"JSP"),(0,r.kt)("li",{parentName:"ul"},"MAP"),(0,r.kt)("li",{parentName:"ul"},"MUSTACHE"),(0,r.kt)("li",{parentName:"ul"},"PHP"),(0,r.kt)("li",{parentName:"ul"},"TS"),(0,r.kt)("li",{parentName:"ul"},"TSX"),(0,r.kt)("li",{parentName:"ul"},"VUE"),(0,r.kt)("li",{parentName:"ul"},"XHTML")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"}," If a packaged web application includes files that contain JavaScript and those included files have one of the file extensions in the previous list, Veracode extracts the JavaScript and scans it.")),(0,r.kt)("p",null,"To reduce the size of your packaged application, you can exclude the ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory, as Veracode does not scan this directory."),(0,r.kt)("p",null,"When you submit .NET applications that use TypeScript for analysis, package the TypeScript source files separately from the .NET application. For best results, do not precompile TypeScript applications into JavaScript. Submit only the TypeScript source files."),(0,r.kt)("p",null,"If your JavaScript build or packaging process produces source map files that include the original source, submit the MAP files with the other files in your application, which Veracode can use to provide greater accuracy when analyzing the application. MAP files must include ",(0,r.kt)("inlineCode",{parentName:"p"},"sources")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"sourcesContent")," properties."),(0,r.kt)("p",null,"Each element of the ",(0,r.kt)("inlineCode",{parentName:"p"},"sources")," property array must have a corresponding element in the ",(0,r.kt)("inlineCode",{parentName:"p"},"sourcesContent")," property array."),(0,r.kt)("p",null,"Veracode requires that you submit JavaScript as source code in a format readable by developers. Avoid build steps that minify, obfuscate, bundle, or otherwise compress JavaScript sources."),(0,r.kt)("p",null,"You must upload original JavaScript sources. Do not upload files that are concatenated or minified. Veracode ignores files that have filenames that suggest that they are concatenated or minified files. For example, Veracode does not analyze files with names such as ",(0,r.kt)("inlineCode",{parentName:"p"},"all.js"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"app.all.js"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"library.min.js")," because it interprets them as potentially concatenated or minified. You must rename files such as these if you want Veracode to analyze them."),(0,r.kt)("h2",{id:"software-composition-analysis-requirements"},"Software Composition Analysis Requirements"),(0,r.kt)("p",null,"If using Veracode Software Composition Analysis, follow these requirements for your package manager:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NPM")),(0,r.kt)("p",null,"Include ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-shrinkwrap.json"),"."),(0,r.kt)("p",null,"If you do not include ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-shrinkwrap.json"),", Veracode can generate SCA information out of the ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory in the root of your ZIP archive. However, Veracode does not recommend including the ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory because it significantly increases upload size without practical benefits."),(0,r.kt)("p",null,"If you include ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-shrinkwrap.json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json"),", Veracode excludes development dependencies from the scan results."),(0,r.kt)("p",null,"If you include a ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory without ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-shrinkwrap.json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json"),", the content of the directory determines which dependencies to include in the results. Ensure that you use the correct ",(0,r.kt)("inlineCode",{parentName:"p"},"npm install")," options to install the appropriate packages in ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," for your NPM version."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Yarn")),(0,r.kt)("p",null,"Include both ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn.lock"),"."),(0,r.kt)("p",null,"If you do not include ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-shrinkwrap.json"),", Veracode can generate SCA information out of the ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory in the root of your ZIP archive. However, Veracode does not recommend including the ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory because it significantly increases upload size without practical benefits."),(0,r.kt)("p",null,"If you include ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn.lock"),", Veracode restricts scan results to production, peer, and optional dependencies."),(0,r.kt)("p",null,"If you include a ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," directory without both ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn.lock"),", the content of the directory determines which dependencies to include in the results. Ensure that you use the correct ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn install")," options to install the appropriate packages in ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Bower")),(0,r.kt)("p",null,"Include the ",(0,r.kt)("inlineCode",{parentName:"p"},"bower_components")," directory in your project. To achieve the most accurate results, include ",(0,r.kt)("inlineCode",{parentName:"p"},"bower.json")," in that directory."),(0,r.kt)("h2",{id:"packaging-aws-lambda-applications"},"Packaging AWS Lambda Applications"),(0,r.kt)("p",null,"Veracode requires you to submit applications built for AWS Lambda according to the AWS Lambda Deployment Package formats. For information, see ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com"},"https://docs.aws.amazon.com/")," and search for AWS Lambda Deployment Package in Node.js."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"}," Veracode does not support the analysis of dependencies submitted as ",(0,r.kt)("a",{href:"https://docs.veracode.com/r/c_lambda_layers"},"Lambda layers"),". To analyze Lambda components deployed in layers, submit them as standard deployment packages, or consider repackaging the function to include layer components as part of the lambda function package.")),(0,r.kt)("h2",{id:"identifying-lambda-function-handlers-for-javascript-and-typescript"},"Identifying Lambda Function Handlers for JavaScript and TypeScript"),(0,r.kt)("p",null,"In JavaScript, you pass either two or three parameters to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/lambda/latest/dg/nodejs-handler.html"},"Lambda function handlers")," depending on whether the functions are asynchronous. However, the JavaScript runtime allows functions to have multiple parameters."),(0,r.kt)("p",null,"To detect Lambda function handlers for JavaScript and TypeScript, Veracode accepts the YAML and YML configuration files included in the uploaded package from the serverless and AWS SAM frameworks. Veracode parses these configuration files to identify the function handlers defined in the uploaded artifact. Veracode does not use these configuration files to identify the configuration of layers or other settings."),(0,r.kt)("p",null,"If a deployment package does not contain a YAML configuration file, Veracode may not identify the deployment package as containing an Express or Koa application. In this case, Veracode applies these heuristics to identify the candidate source files in the deployment package:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If a directory called functions exists, every JavaScript file in every subdirectory below functions is a candidate file. Veracode does not consider files in any directories below one directory level to be candidate files."),(0,r.kt)("li",{parentName:"ul"},"Every JavaScript file in the top-level directory of the archive is a candidate source file.")),(0,r.kt)("p",null,"After Veracode identifies a candidate file, the scan considers the exported functions attached to ",(0,r.kt)("inlineCode",{parentName:"p"},"exports")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"module.exports")," as handler functions. Examples include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exports.handler = async function(event, context) {")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exports.handler = function(event, context, callback) {")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exports.handler = async function(event, context, testval, testbar) {")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"module.exports.lambdaproxyentry = async event => {"))),(0,r.kt)("p",null,"Developers often configure Express or Koa applications that run as Lambda functions to use those Lambda functions as proxies for the original Express or Koa code. In these cases, Veracode analyzes the artifact as an uploaded, standalone Express or Koa application."))}d.isMDXComponent=!0}}]);