"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[58106],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),p=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return n.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,f=m["".concat(d,".").concat(u)]||m[u]||c[u]||o;return a?n.createElement(f,i(i({ref:t},s),{},{components:a})):n.createElement(f,i({ref:t},s))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},88335:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const o={title:"uploadandscan",slug:"/r/r_uploadandscan"},i=void 0,l={unversionedId:"guides/apis/api_wrappers/wrappers_composite_actions/uploadandscan",id:"guides/apis/api_wrappers/wrappers_composite_actions/uploadandscan",title:"uploadandscan",description:"The uploadandscan composite action enables you to upload files to Veracode for scanning.",source:"@site/docs/guides/15_apis/06_api_wrappers/06_wrappers_composite_actions/01_uploadandscan.md",sourceDirName:"guides/15_apis/06_api_wrappers/06_wrappers_composite_actions",slug:"/r/r_uploadandscan",permalink:"/km-docusaurus-test/r/r_uploadandscan",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"uploadandscan",slug:"/r/r_uploadandscan"},sidebar:"tutorialSidebar",previous:{title:"Using Composite Actions in the API Wrappers",permalink:"/km-docusaurus-test/r/c_wrapper_composite_actions"},next:{title:"uploadandscanbyappid",permalink:"/km-docusaurus-test/r/uploadandscanbyappid"}},d={},p=[{value:"Parameters",id:"parameters",level:2},{value:"Example Commands",id:"example-commands",level:2}],s={toc:p};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadandscan")," composite action enables you to upload files to Veracode for scanning."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/Request_the_Static_Scan_and_Configure_Scan_Options"},"auto-scan option")," is always set to on with the ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadandscan")," call."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"}," The Veracode XML APIs and the wrappers use a different syntax. For the wrappers, the parameter names omit the underscores, the parameter values omit spaces, and some parameters use different names. For example, the parameter ",(0,r.kt)("code",null,"app_id")," in the API is ",(0,r.kt)("code",null,"appid")," in the wrapper and the parameter value ",(0,r.kt)("code",null,"Very High")," in the API is ",(0,r.kt)("code",null,"VeryHigh")," in the wrapper. The parameter ",(0,r.kt)("code",null,"business_criticality")," in the API is ",(0,r.kt)("code",null,"criticality")," in the wrapper. The syntax is not interchangeable and using the wrong syntax causes your command to fail. To ensure you are using the correct syntax, see the documentation provided in the Help directory for each wrapper.")),(0,r.kt)("h2",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"appname"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Required")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the ",(0,r.kt)("a",{parentName:"td",href:"https://docs.veracode.com/r/request_profile"},"Veracode application profile"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"createprofile"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Required")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Create a Veracode application profile, if one does not exist, for the specified application profile name. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to create a profile. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," to not create a profile.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"filepath"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Required")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Filepath or folderpath of the files you want to upload to Veracode for scanning. By default, the integration uploads all the subdirectories and files of this filepath. Ensure you have prepared the files according to the ",(0,r.kt)("a",{parentName:"td",href:"https://docs.veracode.com/r/compilation_packaging"},"Packaging GuidanceVeracode Packaging Requirements"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"version"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Required")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name or version of the build that you want to scan.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"createsandbox")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"For development sandbox scans, create a sandbox for the specified Veracode application. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to create a sandbox. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," to not create a sandbox.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"criticality")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Optional. Required if setting the ",(0,r.kt)("inlineCode",{parentName:"td"},"createprofile")," parameter. The level of criticality of the scan: ",(0,r.kt)("inlineCode",{parentName:"td"},"VeryHigh"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"High"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"Medium"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"Low"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"VeryLow"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deleteincompletescan"),(0,r.kt)("br",null),"Only available with the Veracode Java API wrapper."),(0,r.kt)("td",{parentName:"tr",align:"left"},"Integer"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Automatically delete an incomplete scan based on its status to allow the ",(0,r.kt)("inlineCode",{parentName:"td"},"uploadandscan")," action to continue processing. You can review the status of a scan in the wrapper logs. ",(0,r.kt)("br",null),"To delete scans, you must have a user account with the ",(0,r.kt)("a",{parentName:"td",href:"https://docs.veracode.com/r/c_role_permissions"},"Delete Scans")," role or an API service account with the ",(0,r.kt)("a",{parentName:"td",href:"https://docs.veracode.com/r/c_API_roles_details"},"Upload and Scan")," role.",(0,r.kt)("br",null),(0,r.kt)("br",null),"One of these values:",(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"0"),": do not delete an incomplete scan when running the ",(0,r.kt)("inlineCode",{parentName:"td"},"uploadandscan")," action. The default. If set, you must delete an incomplete scan manually to proceed with the ",(0,r.kt)("inlineCode",{parentName:"td"},"uploadandscan")," action."),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"1"),": delete a scan with a status of incomplete, no modules defined, failed, or canceled to proceed with the ",(0,r.kt)("inlineCode",{parentName:"td"},"uploadandscan")," action. If errors occur when running this action, the Java wrapper automatically deletes the incomplete scan."),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"2"),": delete a scan of any status except Results Ready to proceed with the ",(0,r.kt)("inlineCode",{parentName:"td"},"uploadandscan")," action. If errors occur when running this action, the Java wrapper automatically deletes the incomplete scan.")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"exclude")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Case-sensitive, comma-separated list of module name patterns that represent the names of modules to not scan as top-level modules. The ",(0,r.kt)("inlineCode",{parentName:"td"},"*")," wildcard matches 0 or more characters. The ",(0,r.kt)("inlineCode",{parentName:"td"},"?")," wildcard matches exactly one character.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"include")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Case-sensitive, comma-separated list of module name patterns that represent the names of modules to scan as top-level modules. The ",(0,r.kt)("inlineCode",{parentName:"td"},"*")," wildcard matches 0 or more characters. The ",(0,r.kt)("inlineCode",{parentName:"td"},"?")," wildcard matches exactly one character.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"lifecyclestage")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"One of these lifecycle stage values: ",(0,r.kt)("inlineCode",{parentName:"td"},"NotSpecified"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"InDevelopmentPreAlpha"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"InternalOrAlphaTesting"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"ExternalOrBetaTesting"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"DeployedInProductionAndActivelyDeveloped"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"MaintenanceOnlyBugFixes"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"CannotDisclose"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"pattern")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Case-sensitive filename pattern that represents the names of uploaded files to save with a different name. The ",(0,r.kt)("inlineCode",{parentName:"td"},"*")," wildcard matches 0 or more characters. The ",(0,r.kt)("inlineCode",{parentName:"td"},"?")," wildcard matches exactly one character. Each wildcard corresponds to a numbered group that you can reference in the replacement pattern.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"replacement")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Replacement pattern that references groups captured by the filename pattern. For example, if the filename pattern is ",(0,r.kt)("inlineCode",{parentName:"td"},"--SNAPSHOT.war")," and the replacement pattern is ",(0,r.kt)("inlineCode",{parentName:"td"},"$1-master-SNAPSHOT.war"),", an uploaded file named ",(0,r.kt)("inlineCode",{parentName:"td"},"app-branch-SNAPSHOT.war")," is saved as ",(0,r.kt)("inlineCode",{parentName:"td"},"app-master-SNAPSHOT.war"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"sandboxid")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Integer"),(0,r.kt)("td",{parentName:"tr",align:"left"},"ID of the sandbox in which to run the scan.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"sandboxname")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the sandbox in which to run the scan.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"scanallnonfataltoplevelmodules")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If there are no fatal errors in the selected modules, this parameter does not have any effect. When set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true"),", if there are fatal errors in some of the selected modules, this parameter removes the errors from the selected modules and continues the scan of the nonfatal selected modules. When set to ",(0,r.kt)("inlineCode",{parentName:"td"},"false"),", if there are fatal errors in some of the selected modules, this parameter stops the scan.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"scanpollinginterval"),(0,r.kt)("br",null),"Only available with the Veracode Java API wrapper."),(0,r.kt)("td",{parentName:"tr",align:"left"},"Integer"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Interval, in seconds, to poll for the status of a running scan. Value range is ",(0,r.kt)("inlineCode",{parentName:"td"},"30")," to ",(0,r.kt)("inlineCode",{parentName:"td"},"120")," (two minutes). Default is ",(0,r.kt)("inlineCode",{parentName:"td"},"120"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"scantimeout")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Integer"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Number of minutes to wait for the scan to complete and pass policy. If the scan does not complete or fails policy, the build fails.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selected")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to scan the modules currently selected in the Veracode Platform.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selectedpreviously")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to scan only the modules selected in the previous scan.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"teams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"String"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Comma-separated list of team names associated with the specified application. Validates against the names of existing teams for this account.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"toplevel")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},"When set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true"),", Veracode only scans the top-level modules in your files.Veracode recommends that you include this parameter if you want to ensure the scan completes even though there are non-fatal errors, such as unsupported frameworks.")))),(0,r.kt)("h2",{id:"example-commands"},"Example Commands"),(0,r.kt)("p",null,"Veracode recommends that you use an external ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/c_configure_api_cred_file"},"Veracode API credentials file")," to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/c_wrappers_using_api_creds_file"},"provide your credentials to the Veracode API wrapper"),". When you use a Veracode API credentials file, you can omit the ",(0,r.kt)("inlineCode",{parentName:"p"},"-vid")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"-vkey")," parameters for specifying your Veracode API credentials."),(0,r.kt)("p",null,"These example commands demonstrate using the ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadandscan")," action with the Java API wrapper. For the C# API wrapper, replace ",(0,r.kt)("inlineCode",{parentName:"p"},"java -jar vosp-api-wrapper-java<version>.jar")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"VeracodeC#API"),"."),(0,r.kt)("p",null,"Run this command to create an application and start a development sandbox scan:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"java -jar vosp-api-wrapper-java<version>.jar -action uploadandscan -vid <Veracode API ID> -vkey <Veracode API key> -appname myapp -createprofile true -teams myteam -criticality VeryHigh -sandboxname mysandbox -createsandbox true -version <unique version> -filepath /workspace/myapp.jar\n")),(0,r.kt)("p",null,"Run this command to create an application, start a development sandbox scan that only includes modules selected in the previous scan, and wait 30 minutes for the scan to complete:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"java -jar vosp-api-wrapper-java<version>.jar -action uploadandscan -vid <Veracode API ID> -vkey <Veracode API key> -appname myapp -createprofile true -teams myteam -criticality VeryHigh -sandboxname mysandbox -createsandbox true -version <unique version> -scantimeout 30 -selectedpreviously true -filepath /workspace/myapp.jar\n")))}c.isMDXComponent=!0}}]);