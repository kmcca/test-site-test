"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9503],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),g=a,m=d["".concat(p,".").concat(g)]||d[g]||u[g]||o;return t?r.createElement(m,i(i({ref:n},c),{},{components:t})):r.createElement(m,i({ref:n},c))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},99044:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=t(87462),a=(t(67294),t(3905));const o={title:"Gradle Plugin for Agent-Based Scanning",id:"Gradle Plugin for Agent-Based Scanning",slug:"/r/t_sc_gradle"},i="Set Up the Agent-Based Scanning Gradle Plugin",l={unversionedId:"guides/sca/setting_up_agent_based_scans/continuous_integration/gradle/Gradle Plugin for Agent-Based Scanning",id:"guides/sca/setting_up_agent_based_scans/continuous_integration/gradle/Gradle Plugin for Agent-Based Scanning",title:"Gradle Plugin for Agent-Based Scanning",description:"The Veracode Software Composition Analysis agent-based scanning Gradle plugin allows you to automate the scanning of your Gradle repositories. You can upload the results of plugin scans to the Veracode Platform.",source:"@site/docs/guides/07_sca/03_setting_up_agent_based_scans/01_continuous_integration/09_gradle/README.md",sourceDirName:"guides/07_sca/03_setting_up_agent_based_scans/01_continuous_integration/09_gradle",slug:"/r/t_sc_gradle",permalink:"/km-docusaurus-test/r/t_sc_gradle",draft:!1,tags:[],version:"current",frontMatter:{title:"Gradle Plugin for Agent-Based Scanning",id:"Gradle Plugin for Agent-Based Scanning",slug:"/r/t_sc_gradle"},sidebar:"tutorialSidebar",previous:{title:"Configure Your Travis CI Repository",permalink:"/km-docusaurus-test/r/Configure_Your_Travis_CI_Repository"},next:{title:"Configuring the Gradle Plugin",permalink:"/km-docusaurus-test/r/Gradle_Plugin_Configurations"}},p={},s=[],c={toc:s};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"set-up-the-agent-based-scanning-gradle-plugin"},"Set Up the Agent-Based Scanning Gradle Plugin"),(0,a.kt)("p",null,"The Veracode Software Composition Analysis agent-based scanning Gradle plugin allows you to automate the scanning of your Gradle repositories. You can upload the results of plugin scans to the Veracode Platform."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Before you begin:")),(0,a.kt)("p",null,"If you do not have the latest version of the plugin, search for ",(0,a.kt)("inlineCode",{parentName:"p"},"SourceClear")," in the ",(0,a.kt)("a",{parentName:"p",href:"https://plugins.gradle.org"},"Gradle plugin portal")," and follow the onscreen instructions."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To complete this task:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"In the Veracode Platform, select ",(0,a.kt)("strong",{parentName:"p"},"Scans & Analysis")," > ",(0,a.kt)("strong",{parentName:"p"},"Software Composition Analysis"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click the ",(0,a.kt)("strong",{parentName:"p"},"Agent-Based Scan")," tab.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select a workspace.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click ",(0,a.kt)("strong",{parentName:"p"},"Agents")," > ",(0,a.kt)("strong",{parentName:"p"},"Actions")," > ",(0,a.kt)("strong",{parentName:"p"},"Create")," > ",(0,a.kt)("strong",{parentName:"p"},"Gradle"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click ",(0,a.kt)("strong",{parentName:"p"},"Create Agent & Generate Token"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Choose to either set your API token as an environment variable in the environment where you will build your Gradle repository, or add the token directly to the configuration within your ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," file:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Run this command to set your environment variable:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"export SRCCLR_API_TOKEN={apiToken}\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Add this code to your ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," file:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},'            //For Gradle 2.2.0 or higher\n                            ...\n\n                            plugins {\n                            id "com.srcclr.gradle" version "{Insert latest version}"\n                            }\n\n                            apply plugin: "srcclr"\n\n                            srcclr {\n                            apiToken = "{apiToken}" //Only required if environment variable is not set\n                            }\n                        \n')),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},'            //For Gradle before 2.2.0\n                            //Add gradle plugin location\n                            buildscript {\n                            repositories {\n                            maven {\n                            url "https://plugins.gradle.org/m2/"\n                            }\n                            }\n                            }\n                            //Add \'classpath("com.srcclr:gradle:{insert version number}")\'  to your dependencies\n\n                            buildscript {\n                            ...\n                            dependencies {\n                            classpath "gradle.plugin.com.srcclr:gradle:<insert version number>"\n                            }\n                            }\n\n                            apply plugin: "srcclr"\n\n                            srcclr {\n                            apiToken = "{apiToken}" //Only required if environment variable is not set\n                            }\n                                \n')),(0,a.kt)("admonition",{parentName:"li",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"For multi-project Gradle builds, Veracode recommends you apply these changes only to the root ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," file to avoid potentially overriding scan results from the different projects. Do not apply the plugin in the ",(0,a.kt)("inlineCode",{parentName:"p"},"allprojects")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"subprojects")," section of the build file."))))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Optionally, add ",(0,a.kt)("a",{parentName:"p",href:"https://docs.veracode.com/r/Gradle_Plugin_Configurations"},"additional configuration options"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Save the ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," file."),(0,a.kt)("p",{parentName:"li"},"You can run the agent-based scanning plugin during your build by adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"srcclr")," argument to the ",(0,a.kt)("inlineCode",{parentName:"p"},"gradlew")," command.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"To perform dependency resolution and build class files, which are the minimum requirements for vulnerable method analysis, run this command:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"./gradlew srcclr\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"For larger builds, you can run this command:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"./gradlew clean build srcclr\n")))))}u.isMDXComponent=!0}}]);